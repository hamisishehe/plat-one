<div class="min-h-screen bg-[#1e2a38] text-white flex flex-col items-center justify-center px-4 relative">
  <!-- Language Toggle -->
  <div class="absolute flex items-center gap-2 text-sm top-4 right-4">
    <button class="flex items-center px-3 py-1 rounded-full bg-black/20">
      🌐 English
    </button>
    <button class="p-2 text-black bg-orange-400 rounded-full">
      🎧
    </button>
  </div>

  <!-- Logo -->
  <div class="mb-6">
    <img src="assets/logo.png" alt="Logo" class="w-16 h-16 rounded-full" />
  </div>

  <!-- Register Tabs -->
  <div class="flex mb-6 space-x-6 text-gray-400">
    <button class="pb-1 font-semibold text-white border-b-2 border-white">Register by Email</button>
  </div>

  <!-- Form -->

    <form class="w-full max-w-xs space-y-4" #registerForm="ngForm" (ngSubmit)="register()">

    <div>
      <label class="block mb-1 text-sm">Name</label>
      <div class="flex items-center py-2 border-b border-gray-300">
        <span class="mr-2 text-gray-400">
          <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
            <path fill-rule="evenodd" d="M12 20a7.966 7.966 0 0 1-5.002-1.756l.002.001v-.683c0-1.794 1.492-3.25 3.333-3.25h3.334c1.84 0 3.333 1.456 3.333 3.25v.683A7.966 7.966 0 0 1 12 20ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10c0 5.5-4.44 9.963-9.932 10h-.138C6.438 21.962 2 17.5 2 12Zm10-5c-1.84 0-3.333 1.455-3.333 3.25S10.159 13.5 12 13.5c1.84 0 3.333-1.455 3.333-3.25S13.841 7 12 7Z" clip-rule="evenodd"/>
          </svg>
        </span>
        <input type="text" placeholder="Name"
        [(ngModel)]="username"
            name="username"
            minlength="3"
            pattern="^[a-zA-Z0-9_]*$"
            #validateusername="ngModel"
            id="username"
            required
               class="w-full text-white placeholder-gray-400 bg-transparent rounded-lg focus:outline-none" />
      </div>

      <div
      *ngIf="validateusername.invalid && validateusername.touched"
      class="text-sm text-red-500"
    >
      <small *ngIf="validateusername.errors?.['required']">Name is required.</small>
      <small *ngIf="validateusername.errors?.['minlength']">Name must be at least 3 characters long.</small>
      <small *ngIf="validateusername.errors?.['pattern']">Name cannot contain special characters.</small>
    </div>
    </div>


    <!-- Email -->
    <div>
      <label class="block mb-1 text-sm">E-mail</label>
      <div class="flex items-center py-2 border-b border-gray-300">
        <span class="mr-2 text-gray-400">
          <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
            <path d="m3.62 6.389 8.396 6.724 8.638-6.572-7.69-4.29a1.975 1.975 0 0 0-1.928 0L3.62 6.39Z"/>
            <path d="m22 8.053-8.784 6.683a1.978 1.978 0 0 1-2.44-.031L2.02 7.693a1.091 1.091 0 0 0-.019.199v11.065C2 20.637 3.343 22 5 22h14c1.657 0 3-1.362 3-3.043V8.053Z"/>
          </svg>
        </span>
        <input type="email" placeholder="E-mail"
        [(ngModel)]="email"
        name="email"
        required
        #validateemail="ngModel"
               class="w-full text-white placeholder-gray-400 bg-transparent rounded-lg focus:outline-none" />
      </div>

      <div
      *ngIf="validateemail.invalid && validateemail.touched"
      class="text-sm text-red-500"
    >
      <small *ngIf="validateemail.errors?.['required']">Email is required.</small>
      <small *ngIf="validateemail.errors?.['email']">Please enter a valid email address.</small>
    </div>
    </div>


    <div>
      <label class="block mb-1 text-sm">Phone Number</label>
      <div class="flex items-center py-2 border-b border-gray-950">
        <select
        [(ngModel)]="countryCode"
        name="countryCode"
        class="px-1 mr-2 text-white bg-transparent rounded-lg outline-none"
      >
        <option *ngFor="let c of countries" [value]="c.dialCode">
          {{ c.flag }} {{ c.dialCode }}
        </option>
      </select>
        <input type="email" placeholder="Phone Number"
        [(ngModel)]="phonenumber"
        name="phoneNumber"
        required
        #validatephone="ngModel"
               class="w-full text-white placeholder-gray-400 bg-transparent rounded-lg focus:outline-none" />
      </div>

      <div
  *ngIf="validatephone.invalid && validatephone.touched"
  class="text-sm text-red-500"
>
  <small *ngIf="validatephone.errors?.['required']">Phone number is required.</small>
</div>

    </div>

    <!-- Password -->
    <div>
      <label class="block mb-1 text-sm">Password</label>
      <div class="flex items-center py-2 border-b border-gray-300">
        <span class="mr-2 text-gray-400">
          <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
            <path fill-rule="evenodd" d="M8 10V7a4 4 0 1 1 8 0v3h1a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h1Zm2-3a2 2 0 1 1 4 0v3h-4V7Zm2 6a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0v-3a1 1 0 0 1 1-1Z" clip-rule="evenodd"/>
          </svg>

        </span>
        <input [type]="showPassword ? 'text' : 'password'" placeholder="Password"
        [(ngModel)]="password"
        name="password"
        required
        minlength="6"
        #validatepassword="ngModel"
               class="w-full text-white placeholder-gray-400 bg-transparent rounded-lg focus:outline-none" />
        <button type="button" (click)="togglePassword()" class="ml-2 text-gray-400">
          <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-width="2" d="M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"/>
            <path stroke="currentColor" stroke-width="2" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
          </svg>

        </button>
      </div>

      <div *ngIf="validatepassword.invalid && validatepassword.touched" class="text-sm text-red-500">
        <small *ngIf="validatepassword.errors?.['required']">Password is required.</small>
        <small *ngIf="validatepassword.errors?.['minlength']">Password must be at least 6 characters long.</small>
      </div>
    </div>

    <!-- Invitation Code -->
    <div>
      <label class="block mb-1 text-sm">Invitation code</label>
      <div class="flex items-center py-2 border-b border-gray-300">
        <span class="mr-2 text-gray-400">
          <svg class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.213 9.787a3.391 3.391 0 0 0-4.795 0l-3.425 3.426a3.39 3.39 0 0 0 4.795 4.794l.321-.304m-.321-4.49a3.39 3.39 0 0 0 4.795 0l3.424-3.426a3.39 3.39 0 0 0-4.794-4.795l-1.028.961"/>
          </svg>
        </span>
        <input type="text"
        [(ngModel)]="referralCode"
        name="referralCode"
        #validatereferral="ngModel"
        placeholder="Referral Code (Optional)"
               class="w-full text-white placeholder-gray-400 bg-transparent rounded-lg focus:outline-none" />
      </div>
    </div>

    <!-- Sign Up Button -->
    <button type="submit"
    [disabled]="!registerForm.valid"
            class="w-full py-2 mt-4 text-white transition bg-black rounded hover:bg-gray-800">
            <span *ngIf="loading">
              <svg
                class="inline w-4 h-4 mr-2 text-white animate-spin"
                xmlns="http://www.w3.org/2000/svg"
                fill="none"
                viewBox="0 0 24 24"
              >
                <circle
                  class="opacity-25"
                  cx="12"
                  cy="12"
                  r="10"
                  stroke="currentColor"
                  stroke-width="4"
                ></circle>
                <path
                  class="opacity-75"
                  fill="currentColor"
                  d="M4 12a8 8 0 018-8v8z"
                ></path>
              </svg>
              Loading...
            </span>
            <span *ngIf="!loading">Sign Up</span>
    </button>

    <!-- Sign In Link -->
    <p class="mt-2 text-sm text-center">
      <a href="/auth/login" class="text-gray-300 underline hover:text-white">Sign In</a>
    </p>
  </form>
</div>
